namespace SpriteKind {
    export const mainEnemy = SpriteKind.create()
    export const Hitbox = SpriteKind.create()
    export const UI = SpriteKind.create()
    export const flyingEnemyKind = SpriteKind.create()
    export const specialCoin = SpriteKind.create()
    export const UpgradeCard = SpriteKind.create()
}
function exitShop () {
    inShop = false
    shopUI.setFlag(SpriteFlag.Invisible, true)
    for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
        sprites.destroy(value)
    }
    for (let value of sprites.allOfKind(SpriteKind.mainEnemy)) {
        sprites.destroy(value)
    }
    for (let value of sprites.allOfKind(SpriteKind.Food)) {
        sprites.destroy(value)
    }
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (inShop) {
        exitShop()
    }
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(0, -1)
    }
})
function createCoin () {
    if (randint(0, 20) == 1) {
        createSpecialCoin()
    } else {
        createNormalCoin()
    }
}
function createSpecialCoin () {
    mainCoinType = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 7 . . . . 
        . . . 5 6 6 f 6 f 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 f 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 f 6 6 8 . . . 
        . . . 7 6 6 f 6 f 6 6 6 8 . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 8 6 6 6 6 8 . . . . . 
        . . . . . . 8 8 8 8 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.specialCoin)
    animation.runImageAnimation(
    mainCoinType,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 1 1 1 1 . . . . . . 
        . . . . . 1 3 3 3 3 1 . . . . . 
        . . . . 1 3 3 f 3 3 3 1 . . . . 
        . . . 1 3 3 f 3 f 3 3 3 1 . . . 
        . . . 1 3 f 3 3 3 f 3 3 1 . . . 
        . . . 1 3 f 3 3 3 3 3 3 1 . . . 
        . . . 1 3 f 3 3 3 3 3 3 2 . . . 
        . . . 1 3 f 3 3 3 3 3 3 2 . . . 
        . . . 1 3 f 3 3 3 f 3 3 2 . . . 
        . . . 1 3 3 f 3 f 3 3 3 2 . . . 
        . . . . 1 3 3 f 3 3 3 2 . . . . 
        . . . . . 2 3 3 3 3 2 . . . . . 
        . . . . . . 2 2 2 2 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . 1 3 3 1 . . . . . . 
        . . . . . 1 3 3 3 3 1 . . . . . 
        . . . . 1 3 3 f 3 3 3 1 . . . . 
        . . . . 1 3 f 3 f 3 3 1 . . . . 
        . . . . 1 3 f 3 3 3 3 1 . . . . 
        . . . . 1 3 f 3 3 3 3 1 . . . . 
        . . . . 1 3 f 3 3 3 3 1 . . . . 
        . . . . 1 3 f 3 f 3 3 2 . . . . 
        . . . . 1 3 3 f 3 3 3 2 . . . . 
        . . . . . 1 3 3 3 3 2 . . . . . 
        . . . . . . 2 3 3 2 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 1 . . . . . . . 
        . . . . . . . 1 2 1 . . . . . . 
        . . . . . . 1 2 2 2 1 . . . . . 
        . . . . . 1 2 2 2 2 1 . . . . . 
        . . . . . 1 2 f f 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f f 2 1 . . . . . 
        . . . . . 1 2 2 2 2 2 . . . . . 
        . . . . . . 1 2 2 2 2 . . . . . 
        . . . . . . . 2 2 2 . . . . . . 
        . . . . . . . . 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 2 2 . . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 1 . . . . . . . 
        . . . . . . . 1 2 1 . . . . . . 
        . . . . . . 1 2 2 2 1 . . . . . 
        . . . . . 1 2 2 2 2 1 . . . . . 
        . . . . . 1 2 f f 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f f 2 1 . . . . . 
        . . . . . 1 2 2 2 2 2 . . . . . 
        . . . . . . 1 2 2 2 2 . . . . . 
        . . . . . . . 2 2 2 . . . . . . 
        . . . . . . . . 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . 1 2 2 1 . . . . . . 
        . . . . . 1 2 2 2 2 1 . . . . . 
        . . . . 1 2 2 f 2 2 2 1 . . . . 
        . . . . 1 2 f 2 f 2 2 1 . . . . 
        . . . . 1 2 f 2 2 2 2 1 . . . . 
        . . . . 1 2 f 2 2 2 2 1 . . . . 
        . . . . 1 2 f 2 2 2 2 1 . . . . 
        . . . . 1 2 f 2 f 2 2 2 . . . . 
        . . . . 1 2 2 f 2 2 2 2 . . . . 
        . . . . . 1 2 2 2 2 2 . . . . . 
        . . . . . . 2 2 2 2 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
    tiles.placeOnTile(mainCoinType, tiles.getTileLocation(randint(1, 9), randint(1, 7)))
    sprites.setDataNumber(mainCoinType, "despawntimer", 20)
}
function createUpgradeCards () {
    timer.background(function () {
        for (let index = 0; index < 3; index++) {
            shopCardBase = sprites.create(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, SpriteKind.UpgradeCard)
            shopCardBase.z = 11
            shopCardBase.setPosition(shopUI.x + cardSpawningOffset, shopUI.y - 35)
            animation.runImageAnimation(
            shopCardBase,
            [img`
                ..........999999..........
                ..........911119..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........912239..........
                ..........913339..........
                ..........999999..........
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                `,img`
                ..........................
                ..........................
                ..........................
                .........999999...........
                .........91111999.........
                .........91221119.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91222339.........
                .........91223239.........
                .........91232339.........
                .........91323239.........
                .........93332339.........
                .........99933339.........
                ...........999999.........
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                `,img`
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                .....999999...............
                .....9111199999...........
                .....9122111119999........
                .....9122222211119999.....
                .....9122222222211119.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222223239.....
                .....9122222222232339.....
                .....9122222222323239.....
                .....9133322223232339.....
                .....9999333332323239.....
                ........9999933332339.....
                ............999933339.....
                ...............999999.....
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                `,img`
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..9999999999999...........
                ..9111111111119999999999..
                ..9122222222211111111119..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222223239..
                ..9122222222222222232339..
                ..9122222222222222323239..
                ..9122222222222323232339..
                ..9122222222223232323239..
                ..9133333333332323232339..
                ..9999999999933333333339..
                ............999999999999..
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                `,img`
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                ..........................
                99999999999999999999999999
                91111111111111111111111119
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91222222222222222222222239
                91333333333333333333333339
                99999999999999999999999999
                `],
            75,
            false
            )
            cardSpawningOffset += 45
            pause(375)
            scene.cameraShake(2, 100)
            pause(500)
        }
        for (let value of sprites.allOfKind(SpriteKind.UpgradeCard)) {
            value.setImage(img`
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                9999999999999999999999999999..
                9111111111111111111111111119..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9122222222222222222222222239..
                9133333333333333333333333339..
                9999999999999999999999999999..
                ..............................
                ..............................
                ..............................
                ..............................
                ..............................
                `)
        }
    })
}
function createEnemy () {
    if (randint(0, 1) == 1) {
        createSquareEnemy()
    } else {
        createFlyingEnemy()
    }
}
function createNormalCoin () {
    mainCoinType = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 7 . . . . 
        . . . 5 6 6 f 6 f 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 f 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 f 6 6 8 . . . 
        . . . 7 6 6 f 6 f 6 6 6 8 . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 8 6 6 6 6 8 . . . . . 
        . . . . . . 8 8 8 8 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    animation.runImageAnimation(
    mainCoinType,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 7 . . . . 
        . . . 5 6 6 f 6 f 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 f 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 f 6 6 8 . . . 
        . . . 7 6 6 f 6 f 6 6 6 8 . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 8 6 6 6 6 8 . . . . . 
        . . . . . . 8 8 8 8 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 6 6 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 5 . . . . 
        . . . . 5 6 f 6 f 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 f 6 6 8 . . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 8 6 6 8 . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 5 . . . . . . . 
        . . . . . . . 5 6 5 . . . . . . 
        . . . . . . 5 6 6 6 5 . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . . 5 6 f f 6 5 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f f 6 7 . . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 7 6 6 6 8 . . . . . 
        . . . . . . . 8 6 8 . . . . . . 
        . . . . . . . . 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 7 7 . . . . . . . 
        . . . . . . 7 7 7 . . . . . . . 
        . . . . . . 7 7 7 . . . . . . . 
        . . . . . . 7 8 8 . . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 5 . . . . . . . 
        . . . . . . . 5 6 5 . . . . . . 
        . . . . . . 5 6 6 6 5 . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . . 5 6 f f 6 5 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f f 6 7 . . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 7 6 6 6 8 . . . . . 
        . . . . . . . 8 6 8 . . . . . . 
        . . . . . . . . 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 6 6 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 5 . . . . 
        . . . . 5 6 f 6 f 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 f 6 6 8 . . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 8 6 6 8 . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
    tiles.placeOnTile(mainCoinType, tiles.getTileLocation(randint(1, 9), randint(1, 7)))
    sprites.setDataNumber(mainCoinType, "despawntimer", 20)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(-1, 0)
    } else {
    	
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.flyingEnemyKind, function (sprite, otherSprite) {
    scene.cameraShake(2, 100)
    info.changeLifeBy(-1)
    info.changeScoreBy(-1)
    sprites.destroy(otherSprite, effects.ashes, 500)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(1, 0)
    } else {
    	
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Hitbox, function (sprite, otherSprite) {
    scene.cameraShake(2, 100)
    info.changeLifeBy(-1)
    pause(500)
})
function playerMovement (xshift: number, yshift: number) {
    playerX = mainPlayer.tilemapLocation().column
    playerY = mainPlayer.tilemapLocation().row
    if (!(tiles.tileAtLocationIsWall(tiles.getTileLocation(playerX + xshift, playerY + yshift)))) {
        tiles.placeOnTile(mainPlayer, tiles.getTileLocation(playerX + xshift, playerY + yshift))
    }
}
function createSquareEnemy () {
    mainEnemyType = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 9 9 . . . . . . . 
        . . . . . . . a a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.mainEnemy)
    mainEnemyType.lifespan = 1900
    tiles.placeOnTile(mainEnemyType, tiles.getTileLocation(randint(1, 9), randint(1, 7)))
    animation.runImageAnimation(
    mainEnemyType,
    [img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 9 a . . . . . . . 
        . . . . . . . a 9 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . a 9 9 9 . . . . . . 
        . . . . . . 9 a 9 9 . . . . . . 
        . . . . . . 9 9 a 9 . . . . . . 
        . . . . . . 9 9 9 a . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . a b . . . . . . . 
        . . . . . . . b a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . b a a a . . . . . . 
        . . . . . . a b a a . . . . . . 
        . . . . . . a a b a . . . . . . 
        . . . . . . a a a b . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . b c . . . . . . . 
        . . . . . . . c b . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . c b b b . . . . . . 
        . . . . . . b c b b . . . . . . 
        . . . . . . b b c b . . . . . . 
        . . . . . . b b b c . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . a 9 . . . . . . . 
        . . . . . . . 9 a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . a 9 9 a . . . . . . 
        . . . . . . 9 a a 9 . . . . . . 
        . . . . . . 9 a a 9 . . . . . . 
        . . . . . . a 9 9 a . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 a a a 9 9 9 9 9 9 a a a 9 9 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 9 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . 9 9 9 9 9 a a a a 9 9 9 9 9 . 
        . 9 9 9 9 9 a b b a 9 9 9 9 9 . 
        . 9 9 9 9 9 a b b a 9 9 9 9 9 . 
        . 9 9 9 9 9 a a a a 9 9 9 9 9 . 
        . 9 9 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        9 9 a a a 9 9 9 9 9 9 a a a 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 a a a a a a 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 a a a a a a 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 a a a a a a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a a a a a a 9 9 9 9 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 9 a a a a 9 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 9 a a a a 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        9 b a a 9 9 9 9 9 9 9 9 a a b b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 a a 9 9 9 9 9 9 b 
        b 9 9 9 9 9 a b b a 9 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 9 a b b a 9 9 9 9 9 b 
        b 9 9 9 9 9 9 a a 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b b a a 9 9 9 9 9 9 9 9 a a b 9 
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a 9 9 9 9 9 9 9 9 a a b 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 b b 9 9 9 9 9 9 b 
        b 9 9 9 9 9 b c c b 9 9 9 9 9 9 
        9 9 9 9 9 9 b c c b 9 9 9 9 9 b 
        b 9 9 9 9 9 9 b b 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 b a a 9 9 9 9 9 9 9 9 a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        9 9 9 b 9 9 9 b 9 9 9 b 9 9 9 b 
        b b a 9 9 9 9 9 9 9 9 9 9 a b 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 b a 9 9 9 9 9 9 9 9 9 9 a b 9 
        9 9 b 9 9 9 b 9 9 9 b 9 9 9 b 9 
        `,img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 . . . . 9 9 9 9 9 9 
        9 9 9 9 9 . . . . . 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        `,img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 . 9 9 9 9 9 9 9 9 . 9 9 9 9 . 
        9 9 . . 9 9 9 9 9 . 9 9 9 9 . 9 
        9 9 9 . . 9 9 9 . . 9 9 9 . 9 9 
        9 9 9 9 . . 9 . . 9 9 9 . . 9 9 
        . 9 9 9 9 . 9 . . 9 9 . . . 9 9 
        9 . . 9 9 . . . . . . . . 9 9 9 
        9 9 . . . . . . . . . . . 9 9 9 
        9 9 9 . . . . . . . . . 9 9 9 9 
        9 9 9 9 . . . . . . . . 9 9 9 9 
        9 9 9 9 . . . . . . . . 9 9 9 9 
        9 9 9 9 . . 9 . . 9 9 . . 9 9 9 
        9 . 9 . 9 9 9 . 9 9 9 9 . . . 9 
        9 9 . . 9 9 9 . . 9 9 9 9 9 9 . 
        9 9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        `,img`
        9 . . 9 9 9 9 9 9 . . . 9 9 . . 
        9 . . . 9 9 . . 9 . . 9 9 9 . . 
        . . . . . . . 9 . . . . . . . . 
        . 9 . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . 9 . . . . . . . . . . . . . . 
        9 9 9 . . . . . . . . 9 9 9 9 9 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    false
    )
    allEnemiesList.push(mainEnemyType)
    mainEnemyHitbox = sprites.create(img`
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        `, SpriteKind.Hitbox)
    mainEnemyHitbox.lifespan = 1900
    mainEnemyHitbox.setPosition(mainEnemyType.x, mainEnemyType.y)
    mainEnemyHitbox.setFlag(SpriteFlag.Ghost, true)
    mainEnemyHitbox.setFlag(SpriteFlag.Invisible, true)
    sprites.setDataNumber(mainEnemyHitbox, "creationtimer", 8)
    sprites.setDataNumber(mainEnemyHitbox, "spawntimer", 15)
}
function enterShop () {
    inShop = true
    shopUI.setFlag(SpriteFlag.Invisible, false)
    for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
        animation.stopAnimation(animation.AnimationTypes.All, value)
    }
    for (let value of sprites.allOfKind(SpriteKind.mainEnemy)) {
        animation.stopAnimation(animation.AnimationTypes.All, value)
    }
    for (let value of sprites.allOfKind(SpriteKind.Food)) {
        animation.stopAnimation(animation.AnimationTypes.All, value)
    }
    cardSpawningOffset = -50
    createUpgradeCards()
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(0, 1)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.specialCoin, function (sprite, otherSprite) {
    scene.cameraShake(1.5, 100)
    info.changeScoreBy(3)
    sprites.destroy(otherSprite, effects.fire, 100)
    info.changeCountdownBy(5)
})
function createFlyingEnemy () {
    flyingEnemy = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . f f . . . . . . . 
        . . . . . . . f f . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        d d d d d d d d d d d d d d d d 
        `, SpriteKind.flyingEnemyKind)
    tiles.placeOnTile(flyingEnemy, tiles.getTileLocation(randint(1, 9), 0))
    flyingEnemy.lifespan = 2350
    flyingEnemy.setVelocity(0, 50)
    animation.runImageAnimation(
    flyingEnemy,
    [img`
        . . . . d d d d d d d d d . . . 
        . . . d d 9 9 9 9 9 9 9 d d . . 
        . . d d 9 9 9 9 9 9 9 9 9 d d . 
        . d d 9 9 9 9 9 9 9 9 9 9 9 d d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d d 9 9 9 9 9 9 9 9 9 9 9 d d 
        . . d d 9 9 9 9 9 9 9 9 9 d d . 
        . . . d d 9 9 9 9 9 9 9 d d . . 
        . . . . d d d d d d d d d . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . d d d d d d d d d . . . 
        . . . d d 9 9 9 9 9 9 9 d d . . 
        . . d d 9 9 9 9 9 9 9 9 9 d d . 
        . d d 9 9 9 9 9 9 9 9 9 9 9 d d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 a e 
        . d 9 9 9 9 9 9 9 9 9 9 9 a a e 
        . d 9 9 9 9 9 9 9 9 9 9 9 a a e 
        . d 9 9 9 9 9 9 9 9 9 9 a a a e 
        . d 9 9 9 9 9 9 9 9 9 9 a a a e 
        . d 9 9 9 9 9 9 9 9 9 a a a a e 
        . d d 9 9 9 9 9 9 9 a a a a e e 
        . . d d 9 9 9 9 a a a a a e e . 
        . . . d d 9 9 a a a a a e e . . 
        . . . . d d d e e e e e e . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . d d d d d d d d d . . . 
        . . . d d 9 9 9 9 9 9 9 d d . . 
        . . d d 9 9 9 9 9 9 9 9 9 d d . 
        . d d 9 9 9 9 9 9 9 9 9 9 9 d e 
        . d 9 9 9 9 9 9 9 9 9 9 a a a e 
        . d 9 9 9 9 9 9 9 9 a a a a a e 
        . d 9 9 9 9 9 9 9 a a a a a a e 
        . d 9 9 9 9 9 9 a a a a a a a e 
        . d 9 9 9 9 9 a a a a a a a a e 
        . d 9 9 9 9 9 a a a a a a a b f 
        . d 9 9 9 9 a a a a a a a b b f 
        . d d 9 9 9 a a a a a a a b f f 
        . . d d 9 9 a a a a a b b f f . 
        . . . d d 9 a a a a b b f f . . 
        . . . . d d e e e e f f f . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . d d d d d d d d d . . . 
        . . . d d 9 9 9 9 9 9 9 d e . . 
        . . d d 9 9 9 9 9 9 9 9 a e e . 
        . d d 9 9 9 9 a a a a a a a e e 
        . d 9 9 9 9 9 a a a a a a a b f 
        . d 9 9 9 9 a a a a a a a b b f 
        . d 9 9 9 a a a a a a a a b b f 
        . d 9 9 9 a a a a a a a b b b f 
        . d 9 9 a a a a a a a a b b b f 
        . d 9 a a a a a a a a b b b b f 
        . d 9 a a a a a a a b b b b b f 
        . d d a a a a a a b b b b b f f 
        . . e e a a b b b b b b b f f . 
        . . . e e b b b b b b b f f . . 
        . . . . e f f f f f f f f . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . d d d d d d e e e . . . 
        . . . d d 9 9 9 9 9 a a e e . . 
        . . d d 9 9 9 a a a a a a e f . 
        . d d 9 9 9 a a a a a a b b f f 
        . d 9 9 9 a a a a a a b b b c f 
        . d 9 9 a a a a a a a b b b c f 
        . d 9 9 a a a a a a b b b b c f 
        . d 9 a a a a a a a b b b b c f 
        . d 9 a a a a a a b b b b c c f 
        . e a a a a a a b b b b b c c f 
        . e a a a a a b b b b b c c c f 
        . e e a b b b b b b b c c c f f 
        . . e e b b b b b c c c c f f . 
        . . . e f b b c c c c c f f . . 
        . . . . f f f f f f f f f . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . d d d e f f f f f . . . 
        . . . d d 9 9 a b b b c f f . . 
        . . d d 9 9 a a b b b c c f f . 
        . d d 9 a a a b b b b c c c f f 
        . d 9 a a a a b b b c c c c c f 
        . d 9 a a a a b b b c c c c c f 
        . e a a a b b b b c c c c c c f 
        . e a a b b b b c c c c c c c f 
        . f b b b b b c c c c c c c c f 
        . f b b b b c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f f c c c c c c c c c c c f f 
        . . f f c c c c c c c c c f f . 
        . . . f f c c c c c c c f f . . 
        . . . . f f f f f f f f f . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . e e e f f f f f f . . . 
        . . . e e a a b c c c c f f . . 
        . . e e a a b b c c c c c f f . 
        . e e a a b b c c c c c c c f f 
        . e a a b b b c c c c c c c c f 
        . e a b b c c c c c c c c c c f 
        . f b b c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f f c c c c c c c c c c c f f 
        . . f f c c c c c c c c c f f . 
        . . . f f c c c c c c c f f . . 
        . . . . f f f f f f f f f . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . f f f f f f f f f . . . 
        . . . f f c c c c c c c f f . . 
        . . f f c c c c c c c c c f f . 
        . f f c c c c c c c c c c c f f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f f c c c c c c c c c c c f f 
        . . f f c c c c c c c c c f f . 
        . . . f f c c c c c c c f f . . 
        . . . . f f f f f f f f f . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . f f f f f f f f f . . . 
        . . . f f c c c c c c c f f . . 
        . . f f c c c c c c c c c f f . 
        . f f c c c c c c c c c c c f f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c c c b b e 
        . f c c c c c c c c c c b b a e 
        . f c c c c c c c c b b b a a e 
        . f f c c c c c c c b b a a e e 
        . . f f c c c c c b b a a e e . 
        . . . f f c c c c b a a e e . . 
        . . . . f f f f f e e e e . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . f f f f f f f f f . . . 
        . . . f f c c c c c c c f f . . 
        . . f f c c c c c c c c c f f . 
        . f f c c c c c c c c c c c f f 
        . f c c c c c c c c c c c c c f 
        . f c c c c c c c c c b b b b f 
        . f c c c c c c c c b b b b b f 
        . f c c c c c c c b b b b a a e 
        . f c c c c c c b b b b a a a e 
        . f c c c c c b b b a a a a 9 d 
        . f c c c c c b b b a a a a 9 d 
        . f f c c c b b b b a a a 9 d d 
        . . f f c c b b b a a 9 9 d d . 
        . . . f f c b b b a 9 9 d d . . 
        . . . . f f f f f e d d d . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . f f f f f f f f f . . . 
        . . . f f c c c c c b b f e . . 
        . . f f c c c c b b b b b e e . 
        . f f c c c b b b b b b b a e e 
        . f c c c b b b b b a a a a a e 
        . f c c b b b b b a a a a a a e 
        . f c c b b b b a a a a a a 9 d 
        . f c b b b b a a a a a a a 9 d 
        . f c b b b b a a a a a a 9 9 d 
        . f c b b b a a a a a a a 9 9 d 
        . f c b b b a a a a a a 9 9 9 d 
        . f f b b a a a a a a 9 9 9 d d 
        . . f f a a a a a a 9 9 9 d d . 
        . . . e e a a 9 9 9 9 9 d d . . 
        . . . . e e e d d d d d d . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . f f f f f f f f f . . . 
        . . . f f b b b b b b b f e . . 
        . . f f b b b b b b b a a e e . 
        . f f b b b b b a a a a a a e d 
        . f b b b b b a a a a a a a 9 d 
        . f b b b b a a a a a a a a 9 d 
        . f b b b a a a a a a a a 9 9 d 
        . f b b b a a a a a a a 9 9 9 d 
        . f b b a a a a a a a a 9 9 9 d 
        . f b b a a a a a a a 9 9 9 9 d 
        . f b a a a a a a a 9 9 9 9 9 d 
        . e e a a a a a a a 9 9 9 9 d d 
        . . e e a 9 9 9 9 9 9 9 9 d d . 
        . . . e e 9 9 9 9 9 9 9 d d . . 
        . . . . d d d d d d d d d . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . f f f e e e e e d . . . 
        . . . f f b b a a a a 9 d d . . 
        . . f f b b a a a a a 9 9 d d . 
        . f f b a a a a a a a 9 9 9 d d 
        . f b b a a a a a a a 9 9 9 9 d 
        . f b a a a a a a a 9 9 9 9 9 d 
        . e a a a a a a a a 9 9 9 9 9 d 
        . e a a a a a a a 9 9 9 9 9 9 d 
        . e a a a a a a 9 9 9 9 9 9 9 d 
        . e a a a a a 9 9 9 9 9 9 9 9 d 
        . e a a a 9 9 9 9 9 9 9 9 9 9 d 
        . e d 9 9 9 9 9 9 9 9 9 9 9 d d 
        . . d d 9 9 9 9 9 9 9 9 9 d d . 
        . . . d d 9 9 9 9 9 9 9 d d . . 
        . . . . d d d d d d d d d . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . e e e e e e d d d . . . 
        . . . e e a a a a a 9 9 d d . . 
        . . e e a a a a a 9 9 9 9 d d . 
        . e e a a a a 9 9 9 9 9 9 9 d d 
        . e a a a a 9 9 9 9 9 9 9 9 9 d 
        . e a a a 9 9 9 9 9 9 9 9 9 9 d 
        . e a a a 9 9 9 9 9 9 9 9 9 9 d 
        . e a a 9 9 9 9 9 9 9 9 9 9 9 d 
        . e a a 9 9 9 9 9 9 9 9 9 9 9 d 
        . e a 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d d 9 9 9 9 9 9 9 9 9 9 9 d d 
        . . d d 9 9 9 9 9 9 9 9 9 d d . 
        . . . d d 9 9 9 9 9 9 9 d d . . 
        . . . . d d d d d d d d d . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
    allEnemiesList.push(flyingEnemy)
    flyingEnemy.setFlag(SpriteFlag.Ghost, false)
    flyingEnemy.setFlag(SpriteFlag.AutoDestroy, true)
    flyingEnemy.setStayInScreen(false)
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    scene.cameraShake(1.5, 100)
    info.changeScoreBy(1)
    sprites.destroy(otherSprite, effects.spray, 100)
})
info.onCountdownEnd(function () {
    enterShop()
})
let flyingEnemy: Sprite = null
let mainEnemyHitbox: Sprite = null
let mainEnemyType: Sprite = null
let playerY = 0
let playerX = 0
let cardSpawningOffset = 0
let shopCardBase: Sprite = null
let mainCoinType: Sprite = null
let inShop = false
let allEnemiesList: Sprite[] = []
let mainPlayer: Sprite = null
let shopUI: Sprite = null
scene.centerCameraAt(89, 72)
shopUI = sprites.create(img`
    ....99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999....
    ..999111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111999..
    .99111333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333311199.
    .91133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333119.
    9913333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333299
    9113399999999999999999999999993339999999999999333333333333333333333333333333333333333333333333333333333333333333333333333333333229
    913339ccc9c9c9ccc9ccc9ccc9ccc93339ccc9c9c9ccc9993333333333333333333333333333333333333333333333333333333333333333333333333333333329
    913339c999c9c9c9c9c9c9c999c9993339c9c9ccc9c999c93333333333333333333333333333333333333333333333333333333333333333333333333333333329
    913339c939ccc9c9c9c9c9ccc9cc933339c9c9ccc9cc99993333333333333333333333333333333333333333333333333333333333333333333333333333333329
    913339c999c9c9c9c9c9c999c9c9993339c9c9c9c9c999c93333333333333333333333333333333333333333333333333333333333333333333333333333333329
    913339ccc9c9c9ccc9ccc9ccc9ccc93339ccc9c9c9ccc9993333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133399999999999999999999999993339999999999999333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333329
    9113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333229
    9913333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333299
    .91133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333229.
    .99222333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333322299.
    ..999222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999..
    ....99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999....
    `, SpriteKind.UI)
shopUI.z = 10
shopUI.setFlag(SpriteFlag.Invisible, true)
shopUI.setPosition(87, 72)
info.startCountdown(0)
let enemyDifficulty = 0
let coinFrequency = 0
let queuedMovementX = 0
let queuedMovementY = 0
tiles.setCurrentTilemap(tilemap`level1`)
mainPlayer = sprites.create(assets.image`GearAnimation1`, SpriteKind.Player)
tiles.placeOnTile(mainPlayer, tiles.getTileLocation(1, 3))
allEnemiesList = []
info.setLife(3)
forever(function () {
    if (!(inShop)) {
        mainPlayer.setImage(assets.image`GearAnimation1`)
        pause(100)
        mainPlayer.setImage(assets.image`GearAnimation2`)
        pause(100)
        mainPlayer.setImage(assets.image`GearAnimation3`)
        for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
            if (sprites.readDataNumber(value, "spawntimer") <= 0) {
                sprites.destroy(value)
            }
            if (sprites.readDataNumber(value, "creationtimer") <= 0) {
                value.setFlag(SpriteFlag.Ghost, false)
            }
        }
        for (let value of sprites.allOfKind(SpriteKind.Food)) {
            if (sprites.readDataNumber(value, "despawntimer") <= 0) {
                sprites.destroy(value, effects.fire, 100)
            }
        }
        for (let value of sprites.allOfKind(SpriteKind.specialCoin)) {
            if (sprites.readDataNumber(value, "despawntimer") <= 0) {
                sprites.destroy(value, effects.fire, 100)
            }
        }
    }
})
game.onUpdateInterval(100, function () {
    if (!(inShop)) {
        for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
            sprites.changeDataNumberBy(value, "spawntimer", -1)
            sprites.changeDataNumberBy(value, "creationtimer", -1)
        }
        for (let value of sprites.allOfKind(SpriteKind.Food)) {
            sprites.changeDataNumberBy(value, "despawntimer", -1)
        }
    }
})
game.onUpdateInterval(1000 - 10 * coinFrequency, function () {
    if (!(inShop)) {
        createCoin()
    }
})
game.onUpdateInterval(1000 - 10 * enemyDifficulty, function () {
    if (!(inShop)) {
        createEnemy()
    }
})
