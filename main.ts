namespace SpriteKind {
    export const mainEnemy = SpriteKind.create()
    export const Hitbox = SpriteKind.create()
    export const UI = SpriteKind.create()
    export const flyingEnemyKind = SpriteKind.create()
    export const specialCoin = SpriteKind.create()
}
function exitShop () {
    inShop = false
    shopUI.setFlag(SpriteFlag.Invisible, true)
    for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
        sprites.destroy(value)
    }
    for (let value of sprites.allOfKind(SpriteKind.mainEnemy)) {
        sprites.destroy(value)
    }
    for (let value of sprites.allOfKind(SpriteKind.Food)) {
        sprites.destroy(value)
    }
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (inShop) {
        exitShop()
    }
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(0, -1)
    }
})
function createCoin () {
    if (randint(0, 20) == 1) {
        createSpecialCoin()
    } else {
        createNormalCoin()
    }
}
function createSpecialCoin () {
    mainCoinType = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 7 . . . . 
        . . . 5 6 6 f 6 f 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 f 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 f 6 6 8 . . . 
        . . . 7 6 6 f 6 f 6 6 6 8 . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 8 6 6 6 6 8 . . . . . 
        . . . . . . 8 8 8 8 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.specialCoin)
    animation.runImageAnimation(
    mainCoinType,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 1 1 1 1 . . . . . . 
        . . . . . 1 3 3 3 3 1 . . . . . 
        . . . . 1 3 3 f 3 3 3 1 . . . . 
        . . . 1 3 3 f 3 f 3 3 3 1 . . . 
        . . . 1 3 f 3 3 3 f 3 3 1 . . . 
        . . . 1 3 f 3 3 3 3 3 3 1 . . . 
        . . . 1 3 f 3 3 3 3 3 3 2 . . . 
        . . . 1 3 f 3 3 3 3 3 3 2 . . . 
        . . . 1 3 f 3 3 3 f 3 3 2 . . . 
        . . . 1 3 3 f 3 f 3 3 3 2 . . . 
        . . . . 1 3 3 f 3 3 3 2 . . . . 
        . . . . . 2 3 3 3 3 2 . . . . . 
        . . . . . . 2 2 2 2 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . 1 3 3 1 . . . . . . 
        . . . . . 1 3 3 3 3 1 . . . . . 
        . . . . 1 3 3 f 3 3 3 1 . . . . 
        . . . . 1 3 f 3 f 3 3 1 . . . . 
        . . . . 1 3 f 3 3 3 3 1 . . . . 
        . . . . 1 3 f 3 3 3 3 1 . . . . 
        . . . . 1 3 f 3 3 3 3 1 . . . . 
        . . . . 1 3 f 3 f 3 3 2 . . . . 
        . . . . 1 3 3 f 3 3 3 2 . . . . 
        . . . . . 1 3 3 3 3 2 . . . . . 
        . . . . . . 2 3 3 2 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 1 . . . . . . . 
        . . . . . . . 1 2 1 . . . . . . 
        . . . . . . 1 2 2 2 1 . . . . . 
        . . . . . 1 2 2 2 2 1 . . . . . 
        . . . . . 1 2 f f 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f f 2 1 . . . . . 
        . . . . . 1 2 2 2 2 2 . . . . . 
        . . . . . . 1 2 2 2 2 . . . . . 
        . . . . . . . 2 2 2 . . . . . . 
        . . . . . . . . 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 2 2 . . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 1 . . . . . . . 
        . . . . . . . 1 2 1 . . . . . . 
        . . . . . . 1 2 2 2 1 . . . . . 
        . . . . . 1 2 2 2 2 1 . . . . . 
        . . . . . 1 2 f f 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f 2 2 1 . . . . . 
        . . . . . 1 2 f f 2 1 . . . . . 
        . . . . . 1 2 2 2 2 2 . . . . . 
        . . . . . . 1 2 2 2 2 . . . . . 
        . . . . . . . 2 2 2 . . . . . . 
        . . . . . . . . 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 . . . . . . . 
        . . . . . . 1 2 2 1 . . . . . . 
        . . . . . 1 2 2 2 2 1 . . . . . 
        . . . . 1 2 2 f 2 2 2 1 . . . . 
        . . . . 1 2 f 2 f 2 2 1 . . . . 
        . . . . 1 2 f 2 2 2 2 1 . . . . 
        . . . . 1 2 f 2 2 2 2 1 . . . . 
        . . . . 1 2 f 2 2 2 2 1 . . . . 
        . . . . 1 2 f 2 f 2 2 2 . . . . 
        . . . . 1 2 2 f 2 2 2 2 . . . . 
        . . . . . 1 2 2 2 2 2 . . . . . 
        . . . . . . 2 2 2 2 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
    tiles.placeOnTile(mainCoinType, tiles.getTileLocation(randint(1, 9), randint(1, 7)))
    sprites.setDataNumber(mainCoinType, "despawntimer", 20)
}
function createEnemy () {
    if (randint(0, 1) == 1) {
        createSquareEnemy()
    } else {
        createFlyingEnemy()
    }
}
function createNormalCoin () {
    mainCoinType = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 7 . . . . 
        . . . 5 6 6 f 6 f 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 f 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 f 6 6 8 . . . 
        . . . 7 6 6 f 6 f 6 6 6 8 . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 8 6 6 6 6 8 . . . . . 
        . . . . . . 8 8 8 8 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    animation.runImageAnimation(
    mainCoinType,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 7 . . . . 
        . . . 5 6 6 f 6 f 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 f 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 f 6 6 8 . . . 
        . . . 7 6 6 f 6 f 6 6 6 8 . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 8 6 6 6 6 8 . . . . . 
        . . . . . . 8 8 8 8 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 6 6 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 5 . . . . 
        . . . . 5 6 f 6 f 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 f 6 6 8 . . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 8 6 6 8 . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 5 . . . . . . . 
        . . . . . . . 5 6 5 . . . . . . 
        . . . . . . 5 6 6 6 5 . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . . 5 6 f f 6 5 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f f 6 7 . . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 7 6 6 6 8 . . . . . 
        . . . . . . . 8 6 8 . . . . . . 
        . . . . . . . . 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 7 7 . . . . . . . 
        . . . . . . 7 7 7 . . . . . . . 
        . . . . . . 7 7 7 . . . . . . . 
        . . . . . . 7 8 8 . . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 5 . . . . . . . 
        . . . . . . . 5 6 5 . . . . . . 
        . . . . . . 5 6 6 6 5 . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . . 5 6 f f 6 5 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f f 6 7 . . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 7 6 6 6 8 . . . . . 
        . . . . . . . 8 6 8 . . . . . . 
        . . . . . . . . 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 6 6 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 5 . . . . 
        . . . . 5 6 f 6 f 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 f 6 6 8 . . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 8 6 6 8 . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
    tiles.placeOnTile(mainCoinType, tiles.getTileLocation(randint(1, 9), randint(1, 7)))
    sprites.setDataNumber(mainCoinType, "despawntimer", 20)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(-1, 0)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.flyingEnemyKind, function (sprite, otherSprite) {
    scene.cameraShake(2, 100)
    info.changeLifeBy(-1)
    info.changeScoreBy(-1)
    sprites.destroy(otherSprite, effects.ashes, 500)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(1, 0)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Hitbox, function (sprite, otherSprite) {
    scene.cameraShake(2, 100)
    info.changeLifeBy(-1)
    pause(500)
})
function playerMovement (xshift: number, yshift: number) {
    playerX = mainPlayer.tilemapLocation().column
    playerY = mainPlayer.tilemapLocation().row
    if (!(tiles.tileAtLocationIsWall(tiles.getTileLocation(playerX + xshift, playerY + yshift)))) {
        tiles.placeOnTile(mainPlayer, tiles.getTileLocation(playerX + xshift, playerY + yshift))
    }
}
function createSquareEnemy () {
    mainEnemyType = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 9 9 . . . . . . . 
        . . . . . . . a a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.mainEnemy)
    mainEnemyType.lifespan = 1900
    tiles.placeOnTile(mainEnemyType, tiles.getTileLocation(randint(1, 9), randint(1, 7)))
    animation.runImageAnimation(
    mainEnemyType,
    [img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 9 a . . . . . . . 
        . . . . . . . a 9 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . a 9 9 9 . . . . . . 
        . . . . . . 9 a 9 9 . . . . . . 
        . . . . . . 9 9 a 9 . . . . . . 
        . . . . . . 9 9 9 a . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . a b . . . . . . . 
        . . . . . . . b a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . b a a a . . . . . . 
        . . . . . . a b a a . . . . . . 
        . . . . . . a a b a . . . . . . 
        . . . . . . a a a b . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . b c . . . . . . . 
        . . . . . . . c b . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . c b b b . . . . . . 
        . . . . . . b c b b . . . . . . 
        . . . . . . b b c b . . . . . . 
        . . . . . . b b b c . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . a 9 . . . . . . . 
        . . . . . . . 9 a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . a 9 9 a . . . . . . 
        . . . . . . 9 a a 9 . . . . . . 
        . . . . . . 9 a a 9 . . . . . . 
        . . . . . . a 9 9 a . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 a a a 9 9 9 9 9 9 a a a 9 9 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 9 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . 9 9 9 9 9 a a a a 9 9 9 9 9 . 
        . 9 9 9 9 9 a b b a 9 9 9 9 9 . 
        . 9 9 9 9 9 a b b a 9 9 9 9 9 . 
        . 9 9 9 9 9 a a a a 9 9 9 9 9 . 
        . 9 9 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        9 9 a a a 9 9 9 9 9 9 a a a 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 a a a a a a 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 a a a a a a 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 a a a a a a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a a a a a a 9 9 9 9 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 9 a a a a 9 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 9 a a a a 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        9 b a a 9 9 9 9 9 9 9 9 a a b b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 a a 9 9 9 9 9 9 b 
        b 9 9 9 9 9 a b b a 9 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 9 a b b a 9 9 9 9 9 b 
        b 9 9 9 9 9 9 a a 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b b a a 9 9 9 9 9 9 9 9 a a b 9 
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a 9 9 9 9 9 9 9 9 a a b 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 b b 9 9 9 9 9 9 b 
        b 9 9 9 9 9 b c c b 9 9 9 9 9 9 
        9 9 9 9 9 9 b c c b 9 9 9 9 9 b 
        b 9 9 9 9 9 9 b b 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 b a a 9 9 9 9 9 9 9 9 a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        9 9 9 b 9 9 9 b 9 9 9 b 9 9 9 b 
        b b a 9 9 9 9 9 9 9 9 9 9 a b 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 b a 9 9 9 9 9 9 9 9 9 9 a b 9 
        9 9 b 9 9 9 b 9 9 9 b 9 9 9 b 9 
        `,img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 . . . . 9 9 9 9 9 9 
        9 9 9 9 9 . . . . . 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        `,img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 . 9 9 9 9 9 9 9 9 . 9 9 9 9 . 
        9 9 . . 9 9 9 9 9 . 9 9 9 9 . 9 
        9 9 9 . . 9 9 9 . . 9 9 9 . 9 9 
        9 9 9 9 . . 9 . . 9 9 9 . . 9 9 
        . 9 9 9 9 . 9 . . 9 9 . . . 9 9 
        9 . . 9 9 . . . . . . . . 9 9 9 
        9 9 . . . . . . . . . . . 9 9 9 
        9 9 9 . . . . . . . . . 9 9 9 9 
        9 9 9 9 . . . . . . . . 9 9 9 9 
        9 9 9 9 . . . . . . . . 9 9 9 9 
        9 9 9 9 . . 9 . . 9 9 . . 9 9 9 
        9 . 9 . 9 9 9 . 9 9 9 9 . . . 9 
        9 9 . . 9 9 9 . . 9 9 9 9 9 9 . 
        9 9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        `,img`
        9 . . 9 9 9 9 9 9 . . . 9 9 . . 
        9 . . . 9 9 . . 9 . . 9 9 9 . . 
        . . . . . . . 9 . . . . . . . . 
        . 9 . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . 9 . . . . . . . . . . . . . . 
        9 9 9 . . . . . . . . 9 9 9 9 9 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    false
    )
    allEnemiesList.push(mainEnemyType)
    mainEnemyHitbox = sprites.create(img`
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        `, SpriteKind.Hitbox)
    mainEnemyHitbox.lifespan = 1900
    mainEnemyHitbox.setPosition(mainEnemyType.x, mainEnemyType.y)
    mainEnemyHitbox.setFlag(SpriteFlag.Ghost, true)
    mainEnemyHitbox.setFlag(SpriteFlag.Invisible, true)
    sprites.setDataNumber(mainEnemyHitbox, "creationtimer", 8)
    sprites.setDataNumber(mainEnemyHitbox, "spawntimer", 15)
}
function enterShop () {
    game.setGameOverEffect(true, effects.confetti)
    game.gameOver(true)
    inShop = true
    shopUI.setFlag(SpriteFlag.Invisible, false)
    for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
        animation.stopAnimation(animation.AnimationTypes.All, value)
    }
    for (let value of sprites.allOfKind(SpriteKind.mainEnemy)) {
        animation.stopAnimation(animation.AnimationTypes.All, value)
    }
    for (let value of sprites.allOfKind(SpriteKind.Food)) {
        animation.stopAnimation(animation.AnimationTypes.All, value)
    }
    shopCardBase = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Player)
    shopCardBase.setPosition(shopUI.x, shopUI.y)
    animation.runImageAnimation(
    shopCardBase,
    [img`
        ..........1111..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1223..........
        ..........1333..........
        `,img`
        .........1111...........
        .........122111.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........122233.........
        .........122323.........
        .........123233.........
        .........132323.........
        .........333233.........
        ...........3333.........
        `,img`
        .....1111...............
        .....12211111...........
        .....12222221111........
        .....12222222221111.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222222323.....
        .....12222222223233.....
        .....12222222232323.....
        .....13332222323233.....
        ........33333232323.....
        ............3333233.....
        ...............3333.....
        `,img`
        ..11111111111...........
        ..12222222221111111111..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222222323..
        ..12222222222222223233..
        ..12222222222222232323..
        ..12222222222232323233..
        ..12222222222323232323..
        ..13333333333232323233..
        ............3333333333..
        `,img`
        111111111111111111111111
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        133333333333333333333333
        `,img`
        111111111111111111111111
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        133333333333333333333333
        `,img`
        111111111111111111111111
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        122222222222222222222223
        133333333333333333333333
        `],
    100,
    false
    )
    sprites.setDataNumber(shopCardBase, "fallingtime", 2)
    shopCardBase.z = 11
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(0, 1)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.specialCoin, function (sprite, otherSprite) {
    scene.cameraShake(1.5, 100)
    info.changeScoreBy(3)
    sprites.destroy(otherSprite, effects.fire, 100)
    info.changeCountdownBy(5)
})
function createFlyingEnemy () {
    flyingEnemy = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . f f . . . . . . . 
        . . . . . . . f f . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        d d d d d d d d d d d d d d d d 
        `, SpriteKind.flyingEnemyKind)
    tiles.placeOnTile(flyingEnemy, tiles.getTileLocation(randint(1, 9), 0))
    flyingEnemy.lifespan = 2350
    flyingEnemy.setVelocity(0, 50)
    animation.runImageAnimation(
    flyingEnemy,
    [img`
        . . . . d d d d d d d d d . . . 
        . . . d d 9 9 9 9 9 9 9 d d . . 
        . . d d 9 9 9 9 9 9 9 9 9 d d . 
        . d d 9 9 9 9 9 9 9 9 9 9 9 d d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d 9 9 9 9 9 9 9 9 9 9 9 9 9 d 
        . d d 9 9 9 9 9 9 9 9 9 9 9 d d 
        . . d d 9 9 9 9 9 9 9 9 9 d d . 
        . . . d d 9 9 9 9 9 9 9 d d . . 
        . . . . d d d d d d d d d . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . 9 9 9 9 9 9 9 . . . . 
        . . . . 9 9 9 9 9 9 9 9 9 . . . 
        . . . 9 9 9 9 9 9 9 9 9 9 9 . . 
        . . 9 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . . 9 9 9 9 9 9 9 9 9 9 9 9 a . 
        . . 9 9 9 9 9 9 9 9 9 9 9 a a . 
        . . 9 9 9 9 9 9 9 9 9 9 9 a a . 
        . . 9 9 9 9 9 9 9 9 9 9 a a a . 
        . . 9 9 9 9 9 9 9 9 9 9 a a a . 
        . . 9 9 9 9 9 9 9 9 9 a a a a . 
        . . . 9 9 9 9 9 9 9 a a a a . . 
        . . . . 9 9 9 9 a a a a a . . . 
        . . . . . 9 9 a a a a a . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . 9 9 9 9 9 9 9 . . . . 
        . . . . 9 9 9 9 9 9 9 9 9 . . . 
        . . . 9 9 9 9 9 9 9 9 9 9 9 . . 
        . . 9 9 9 9 9 9 9 9 9 9 a a a . 
        . . 9 9 9 9 9 9 9 9 a a a a a . 
        . . 9 9 9 9 9 9 9 a a a a a a . 
        . . 9 9 9 9 9 9 a a a a a a a . 
        . . 9 9 9 9 9 a a a a a a a a . 
        . . 9 9 9 9 9 a a a a a a a b . 
        . . 9 9 9 9 a a a a a a a b b . 
        . . . 9 9 9 a a a a a a a b . . 
        . . . . 9 9 a a a a a b b . . . 
        . . . . . 9 a a a a b b . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . 9 9 9 9 9 9 9 . . . . 
        . . . . 9 9 9 9 9 9 9 9 a . . . 
        . . . 9 9 9 9 a a a a a a a . . 
        . . 9 9 9 9 9 a a a a a a a b . 
        . . 9 9 9 9 a a a a a a a b b . 
        . . 9 9 9 a a a a a a a a b b . 
        . . 9 9 9 a a a a a a a b b b . 
        . . 9 9 a a a a a a a a b b b . 
        . . 9 a a a a a a a a b b b b . 
        . . 9 a a a a a a a b b b b b . 
        . . . a a a a a a b b b b b . . 
        . . . . a a b b b b b b b . . . 
        . . . . . b b b b b b b . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . 9 9 9 9 9 a a . . . . 
        . . . . 9 9 9 a a a a a a . . . 
        . . . 9 9 9 a a a a a a b b . . 
        . . 9 9 9 a a a a a a b b b c . 
        . . 9 9 a a a a a a a b b b c . 
        . . 9 9 a a a a a a b b b b c . 
        . . 9 a a a a a a a b b b b c . 
        . . 9 a a a a a a b b b b c c . 
        . . a a a a a a b b b b b c c . 
        . . a a a a a b b b b b c c c . 
        . . . a b b b b b b b c c c . . 
        . . . . b b b b b c c c c . . . 
        . . . . . b b c c c c c . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . 9 9 a b b b c . . . . 
        . . . . 9 9 a a b b b c c . . . 
        . . . 9 a a a b b b b c c c . . 
        . . 9 a a a a b b b c c c c c . 
        . . 9 a a a a b b b c c c c c . 
        . . a a a b b b b c c c c c c . 
        . . a a b b b b c c c c c c c . 
        . . b b b b b c c c c c c c c . 
        . . b b b b c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . . c c c c c c c c c c c . . 
        . . . . c c c c c c c c c . . . 
        . . . . . c c c c c c c . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . a a b c c c c . . . . 
        . . . . a a b b c c c c c . . . 
        . . . a a b b c c c c c c c . . 
        . . a a b b b c c c c c c c c . 
        . . a b b c c c c c c c c c c . 
        . . b b c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . . c c c c c c c c c c c . . 
        . . . . c c c c c c c c c . . . 
        . . . . . c c c c c c c . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . c c c c c c c . . . . 
        . . . . c c c c c c c c c . . . 
        . . . c c c c c c c c c c c . . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . . c c c c c c c c c c c . . 
        . . . . c c c c c c c c c . . . 
        . . . . . c c c c c c c . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . c c c c c c c . . . . 
        . . . . c c c c c c c c c . . . 
        . . . c c c c c c c c c c c . . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c c c b b . 
        . . c c c c c c c c c c b b a . 
        . . c c c c c c c c b b b a a . 
        . . . c c c c c c c b b a a . . 
        . . . . c c c c c b b a a . . . 
        . . . . . c c c c b a a . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . c c c c c c c . . . . 
        . . . . c c c c c c c c c . . . 
        . . . c c c c c c c c c c c . . 
        . . c c c c c c c c c c c c c . 
        . . c c c c c c c c c b b b b . 
        . . c c c c c c c c b b b b b . 
        . . c c c c c c c b b b b a a . 
        . . c c c c c c b b b b a a a . 
        . . c c c c c b b b a a a a 9 . 
        . . c c c c c b b b a a a a 9 . 
        . . . c c c b b b b a a a 9 . . 
        . . . . c c b b b a a 9 9 . . . 
        . . . . . c b b b a 9 9 . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . c c c c c b b . . . . 
        . . . . c c c c b b b b b . . . 
        . . . c c c b b b b b b b a . . 
        . . c c c b b b b b a a a a a . 
        . . c c b b b b b a a a a a a . 
        . . c c b b b b a a a a a a 9 . 
        . . c b b b b a a a a a a a 9 . 
        . . c b b b b a a a a a a 9 9 . 
        . . c b b b a a a a a a a 9 9 . 
        . . c b b b a a a a a a 9 9 9 . 
        . . . b b a a a a a a 9 9 9 . . 
        . . . . a a a a a a 9 9 9 . . . 
        . . . . . a a 9 9 9 9 9 . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . b b b b b b b . . . . 
        . . . . b b b b b b b a a . . . 
        . . . b b b b b a a a a a a . . 
        . . b b b b b a a a a a a a 9 . 
        . . b b b b a a a a a a a a 9 . 
        . . b b b a a a a a a a a 9 9 . 
        . . b b b a a a a a a a 9 9 9 . 
        . . b b a a a a a a a a 9 9 9 . 
        . . b b a a a a a a a 9 9 9 9 . 
        . . b a a a a a a a 9 9 9 9 9 . 
        . . . a a a a a a a 9 9 9 9 . . 
        . . . . a 9 9 9 9 9 9 9 9 . . . 
        . . . . . 9 9 9 9 9 9 9 . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . b b a a a a 9 . . . . 
        . . . . b b a a a a a 9 9 . . . 
        . . . b a a a a a a a 9 9 9 . . 
        . . b b a a a a a a a 9 9 9 9 . 
        . . b a a a a a a a 9 9 9 9 9 . 
        . . a a a a a a a a 9 9 9 9 9 . 
        . . a a a a a a a 9 9 9 9 9 9 . 
        . . a a a a a a 9 9 9 9 9 9 9 . 
        . . a a a a a 9 9 9 9 9 9 9 9 . 
        . . a a a 9 9 9 9 9 9 9 9 9 9 . 
        . . . 9 9 9 9 9 9 9 9 9 9 9 . . 
        . . . . 9 9 9 9 9 9 9 9 9 . . . 
        . . . . . 9 9 9 9 9 9 9 . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . a a a a a 9 9 . . . . 
        . . . . a a a a a 9 9 9 9 . . . 
        . . . a a a a 9 9 9 9 9 9 9 . . 
        . . a a a a 9 9 9 9 9 9 9 9 9 . 
        . . a a a 9 9 9 9 9 9 9 9 9 9 . 
        . . a a a 9 9 9 9 9 9 9 9 9 9 . 
        . . a a 9 9 9 9 9 9 9 9 9 9 9 . 
        . . a a 9 9 9 9 9 9 9 9 9 9 9 . 
        . . a 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . . 9 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . . . 9 9 9 9 9 9 9 9 9 9 9 . . 
        . . . . 9 9 9 9 9 9 9 9 9 . . . 
        . . . . . 9 9 9 9 9 9 9 . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
    allEnemiesList.push(flyingEnemy)
    flyingEnemy.setFlag(SpriteFlag.Ghost, false)
    flyingEnemy.setFlag(SpriteFlag.AutoDestroy, true)
    flyingEnemy.setStayInScreen(false)
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    scene.cameraShake(1.5, 100)
    info.changeScoreBy(1)
    sprites.destroy(otherSprite, effects.spray, 100)
})
info.onCountdownEnd(function () {
    enterShop()
})
let flyingEnemy: Sprite = null
let shopCardBase: Sprite = null
let mainEnemyHitbox: Sprite = null
let mainEnemyType: Sprite = null
let playerY = 0
let playerX = 0
let mainCoinType: Sprite = null
let inShop = false
let allEnemiesList: Sprite[] = []
let mainPlayer: Sprite = null
let shopUI: Sprite = null
scene.centerCameraAt(89, 72)
shopUI = sprites.create(img`
    ....111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111....
    ..1113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333111..
    .113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333311.
    .133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332.
    11339999999999999999999999999333999999999999933333333333333333333333333333333333333333333333333333333333333333333333333333333322
    13339ccc9c9c9ccc9ccc9ccc9ccc93339ccc9c9c9ccc999333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339c999c9c9c9c9c9c9c999c9993339c9c9ccc9c999c9333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339c939ccc9c9c9c9c9ccc9cc933339c9c9ccc9cc9999333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339c999c9c9c9c9c9c999c9c9993339c9c9c9c9c999c9333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339ccc9c9c9ccc9ccc9ccc9ccc93339ccc9c9c9ccc999333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339999999999999999999999999333999999999999933333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    11333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333322
    .133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332.
    .113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333322.
    ..2223333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333222..
    ....222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222....
    `, SpriteKind.UI)
shopUI.z = 10
shopUI.setFlag(SpriteFlag.Invisible, true)
shopUI.setPosition(87, 72)
info.startCountdown(20)
let enemyDifficulty = 0
let coinFrequency = 0
let queuedMovementX = 0
let queuedMovementY = 0
tiles.setCurrentTilemap(tilemap`level1`)
mainPlayer = sprites.create(assets.image`GearAnimation1`, SpriteKind.Player)
tiles.placeOnTile(mainPlayer, tiles.getTileLocation(1, 3))
allEnemiesList = []
info.setLife(3)
forever(function () {
    if (!(inShop)) {
        mainPlayer.setImage(assets.image`GearAnimation1`)
        pause(100)
        mainPlayer.setImage(assets.image`GearAnimation2`)
        pause(100)
        mainPlayer.setImage(assets.image`GearAnimation3`)
        for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
            if (sprites.readDataNumber(value, "spawntimer") <= 0) {
                sprites.destroy(value)
            }
            if (sprites.readDataNumber(value, "creationtimer") <= 0) {
                value.setFlag(SpriteFlag.Ghost, false)
            }
        }
        for (let value of sprites.allOfKind(SpriteKind.Food)) {
            if (sprites.readDataNumber(value, "despawntimer") <= 0) {
                sprites.destroy(value, effects.fire, 100)
            }
        }
        for (let value of sprites.allOfKind(SpriteKind.specialCoin)) {
            if (sprites.readDataNumber(value, "despawntimer") <= 0) {
                sprites.destroy(value, effects.fire, 100)
            }
        }
    }
})
game.onUpdateInterval(100, function () {
    if (!(inShop)) {
        for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
            sprites.changeDataNumberBy(value, "spawntimer", -1)
            sprites.changeDataNumberBy(value, "creationtimer", -1)
        }
        for (let value of sprites.allOfKind(SpriteKind.Food)) {
            sprites.changeDataNumberBy(value, "despawntimer", -1)
        }
    }
})
game.onUpdateInterval(1000 - 10 * coinFrequency, function () {
    if (!(inShop)) {
        createCoin()
    }
})
game.onUpdateInterval(1000 - 10 * enemyDifficulty, function () {
    if (!(inShop)) {
        createEnemy()
    }
})
