namespace SpriteKind {
    export const mainEnemy = SpriteKind.create()
    export const Hitbox = SpriteKind.create()
    export const UI = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(0, -1)
    }
})
function createCoin () {
    mainCoinType = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 7 . . . . 
        . . . 5 6 6 f 6 f 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 f 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 f 6 6 8 . . . 
        . . . 7 6 6 f 6 f 6 6 6 8 . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 8 6 6 6 6 8 . . . . . 
        . . . . . . 8 8 8 8 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    animation.runImageAnimation(
    mainCoinType,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 7 . . . . 
        . . . 5 6 6 f 6 f 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 f 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 7 . . . 
        . . . 5 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 6 6 6 8 . . . 
        . . . 7 6 f 6 6 6 f 6 6 8 . . . 
        . . . 7 6 6 f 6 f 6 6 6 8 . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 8 6 6 6 6 8 . . . . . 
        . . . . . . 8 8 8 8 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 6 6 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 5 . . . . 
        . . . . 5 6 f 6 f 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 f 6 6 8 . . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 8 6 6 8 . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 5 . . . . . . . 
        . . . . . . . 5 6 5 . . . . . . 
        . . . . . . 5 6 6 6 5 . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . . 5 6 f f 6 5 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f f 6 7 . . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 7 6 6 6 8 . . . . . 
        . . . . . . . 8 6 8 . . . . . . 
        . . . . . . . . 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 5 5 . . . . . . . 
        . . . . . . 5 7 7 . . . . . . . 
        . . . . . . 7 7 7 . . . . . . . 
        . . . . . . 7 7 7 . . . . . . . 
        . . . . . . 7 8 8 . . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 5 . . . . . . . 
        . . . . . . . 5 6 5 . . . . . . 
        . . . . . . 5 6 6 6 5 . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . . 5 6 f f 6 5 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 5 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f 6 6 7 . . . . . 
        . . . . . 7 6 f f 6 7 . . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 7 6 6 6 8 . . . . . 
        . . . . . . . 8 6 8 . . . . . . 
        . . . . . . . . 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 5 5 . . . . . . . 
        . . . . . . 5 6 6 5 . . . . . . 
        . . . . . 5 6 6 6 6 5 . . . . . 
        . . . . 5 6 6 f 6 6 6 5 . . . . 
        . . . . 5 6 f 6 f 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 5 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 6 6 6 7 . . . . 
        . . . . 7 6 f 6 f 6 6 8 . . . . 
        . . . . 7 6 6 f 6 6 6 8 . . . . 
        . . . . . 7 6 6 6 6 8 . . . . . 
        . . . . . . 8 6 6 8 . . . . . . 
        . . . . . . . 8 8 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
    tiles.placeOnTile(mainCoinType, tiles.getTileLocation(randint(1, 9), randint(1, 7)))
    sprites.setDataNumber(mainCoinType, "despawntimer", 20)
    for (let value of sprites.allOfKind(SpriteKind.Food)) {
        value.startEffect(effects.fire, 100)
    }
}
function createEnemy () {
    mainEnemyType = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 9 9 . . . . . . . 
        . . . . . . . a a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.mainEnemy)
    mainEnemyType.lifespan = 1900
    tiles.placeOnTile(mainEnemyType, tiles.getTileLocation(randint(1, 9), randint(1, 7)))
    animation.runImageAnimation(
    mainEnemyType,
    [img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 9 a . . . . . . . 
        . . . . . . . a 9 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . a 9 9 9 . . . . . . 
        . . . . . . 9 a 9 9 . . . . . . 
        . . . . . . 9 9 a 9 . . . . . . 
        . . . . . . 9 9 9 a . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . a b . . . . . . . 
        . . . . . . . b a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . b a a a . . . . . . 
        . . . . . . a b a a . . . . . . 
        . . . . . . a a b a . . . . . . 
        . . . . . . a a a b . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . b c . . . . . . . 
        . . . . . . . c b . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        c a 9 . . . . . . . . . . 9 a c 
        a . . . . . . . . . . . . . . a 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . c b b b . . . . . . 
        . . . . . . b c b b . . . . . . 
        . . . . . . b b c b . . . . . . 
        . . . . . . b b b c . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        a . . . . . . . . . . . . . . a 
        c a 9 . . . . . . . . . . 9 a c 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . a 9 . . . . . . . 
        . . . . . . . 9 a . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . a 9 9 a . . . . . . 
        . . . . . . 9 a a 9 . . . . . . 
        . . . . . . 9 a a 9 . . . . . . 
        . . . . . . a 9 9 a . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . 9 
        9 . . . . . . . . . . . . . . 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        a 9 9 . . . . . . . . . . 9 9 a 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 a a a 9 9 9 9 9 9 a a a 9 9 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 9 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . 9 9 9 9 9 a a a a 9 9 9 9 9 . 
        . 9 9 9 9 9 a b b a 9 9 9 9 9 . 
        . 9 9 9 9 9 a b b a 9 9 9 9 9 . 
        . 9 9 9 9 9 a a a a 9 9 9 9 9 . 
        . 9 9 9 9 9 9 9 9 9 9 9 9 9 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        . 9 a 9 9 9 9 9 9 9 9 9 9 a 9 . 
        9 9 a a a 9 9 9 9 9 9 a a a 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        a 9 9 . . . . . . . . . . 9 9 a 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 a a a a a a 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 a a a a a a 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 a a a a a a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a a a a a a 9 9 9 9 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a a 9 9 9 9 9 9 a a a b 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 9 a a a a 9 9 9 9 9 9 
        9 9 9 9 9 a b b b b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b b b b a 9 9 9 9 9 
        9 9 9 9 9 9 a a a a 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 b a a a 9 9 9 9 9 9 a a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        9 b a a 9 9 9 9 9 9 9 9 a a b b 
        b a a 9 9 9 9 9 9 9 9 9 9 a a 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 a a 9 9 9 9 9 9 b 
        b 9 9 9 9 9 a b b a 9 9 9 9 9 9 
        9 9 9 9 9 a b c c b a 9 9 9 9 b 
        b 9 9 9 9 a b c c b a 9 9 9 9 9 
        9 9 9 9 9 9 a b b a 9 9 9 9 9 b 
        b 9 9 9 9 9 9 a a 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 a a 9 9 9 9 9 9 9 9 9 9 a a b 
        b b a a 9 9 9 9 9 9 9 9 a a b 9 
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        `,img`
        9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 
        b b a a 9 9 9 9 9 9 9 9 a a b 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 b b 9 9 9 9 9 9 b 
        b 9 9 9 9 9 b c c b 9 9 9 9 9 9 
        9 9 9 9 9 9 b c c b 9 9 9 9 9 b 
        b 9 9 9 9 9 9 b b 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 b a a 9 9 9 9 9 9 9 9 a a b b 
        b 9 b 9 b 9 b 9 b 9 b 9 b 9 b 9 
        `,img`
        9 9 9 b 9 9 9 b 9 9 9 b 9 9 9 b 
        b b a 9 9 9 9 9 9 9 9 9 9 a b 9 
        9 a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 b 
        b 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 b 
        b a 9 9 9 9 9 9 9 9 9 9 9 9 a 9 
        9 b a 9 9 9 9 9 9 9 9 9 9 a b 9 
        9 9 b 9 9 9 b 9 9 9 b 9 9 9 b 9 
        `,img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 . . . . 9 9 9 9 9 9 
        9 9 9 9 9 . . . . . 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        `,img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 . 9 9 9 9 9 9 9 9 . 9 9 9 9 . 
        9 9 . . 9 9 9 9 9 . 9 9 9 9 . 9 
        9 9 9 . . 9 9 9 . . 9 9 9 . 9 9 
        9 9 9 9 . . 9 . . 9 9 9 . . 9 9 
        . 9 9 9 9 . 9 . . 9 9 . . . 9 9 
        9 . . 9 9 . . . . . . . . 9 9 9 
        9 9 . . . . . . . . . . . 9 9 9 
        9 9 9 . . . . . . . . . 9 9 9 9 
        9 9 9 9 . . . . . . . . 9 9 9 9 
        9 9 9 9 . . . . . . . . 9 9 9 9 
        9 9 9 9 . . 9 . . 9 9 . . 9 9 9 
        9 . 9 . 9 9 9 . 9 9 9 9 . . . 9 
        9 9 . . 9 9 9 . . 9 9 9 9 9 9 . 
        9 9 9 9 9 9 9 9 . 9 9 9 9 9 9 9 
        9 9 9 9 9 9 9 . . 9 9 9 9 9 9 9 
        `,img`
        9 . . 9 9 9 9 9 9 . . . 9 9 . . 
        9 . . . 9 9 . . 9 . . 9 9 9 . . 
        . . . . . . . 9 . . . . . . . . 
        . 9 . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . . 
        9 . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . 9 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . 9 . . . . . . . . . . . . . . 
        9 9 9 . . . . . . . . 9 9 9 9 9 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    false
    )
    allEnemiesList.push(mainEnemyType)
    mainEnemyHitbox = sprites.create(img`
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
        `, SpriteKind.Hitbox)
    mainEnemyHitbox.lifespan = 1900
    mainEnemyHitbox.setPosition(mainEnemyType.x, mainEnemyType.y)
    mainEnemyHitbox.setFlag(SpriteFlag.Ghost, true)
    mainEnemyHitbox.setFlag(SpriteFlag.Invisible, true)
    sprites.setDataNumber(mainEnemyHitbox, "creationtimer", 8)
    sprites.setDataNumber(mainEnemyHitbox, "spawntimer", 15)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(-1, 0)
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(1, 0)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Hitbox, function (sprite, otherSprite) {
    scene.cameraShake(2, 100)
    info.changeLifeBy(-1)
    pause(500)
})
function playerMovement (xshift: number, yshift: number) {
    scene.cameraShake(1.5, 100)
    playerX = mainPlayer.tilemapLocation().column
    playerY = mainPlayer.tilemapLocation().row
    if (!(tiles.tileAtLocationIsWall(tiles.getTileLocation(playerX + xshift, playerY + yshift)))) {
        tiles.placeOnTile(mainPlayer, tiles.getTileLocation(playerX + xshift, playerY + yshift))
    }
}
function enterShop () {
    inShop = true
    shopUI.setFlag(SpriteFlag.Invisible, false)
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(inShop)) {
        playerMovement(0, 1)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    sprites.destroy(otherSprite, effects.spray, 100)
})
info.onCountdownEnd(function () {
    enterShop()
})
let playerY = 0
let playerX = 0
let mainEnemyHitbox: Sprite = null
let mainEnemyType: Sprite = null
let mainCoinType: Sprite = null
let inShop = false
let allEnemiesList: Sprite[] = []
let mainPlayer: Sprite = null
let shopUI: Sprite = null
let cameraCenter = sprites.create(img`
    . . 3 3 3 3 3 3 3 3 3 . . . . . 
    . 3 3 . . . . . . . . . . . . . 
    . 3 . . . . . . . . . . . . . . 
    3 3 . . . . 3 3 3 3 3 . . . . . 
    3 . . . . 3 . . . . 3 3 3 . . . 
    3 . . . 3 . . . . . . . 3 3 . . 
    3 . . . 3 . . 3 3 3 . . . 3 . . 
    3 . . . 3 . . 3 . 3 3 . . 3 . . 
    3 . . . 3 . . 3 . . . 3 . . 3 . 
    . 3 . . 3 . . . . . . 3 . . 3 . 
    . 3 . . 3 3 . . . . . 3 . . 3 . 
    . 3 . . . 3 3 . . . 3 . . . . 3 
    . . 3 . . . 3 3 3 3 . . . . . 3 
    . . 3 3 3 . . . . . . . . . 3 3 
    . . . . 3 3 3 3 . . . . 3 3 3 . 
    . . . . . . . 3 3 3 3 3 3 . . . 
    `, SpriteKind.UI)
cameraCenter.setPosition(55, 40)
shopUI = sprites.create(img`
    ....111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111....
    ..1113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333111..
    .113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333311.
    .133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332.
    11339999999999999999999999999333999999999999933333333333333333333333333333333333333333333333333333333333333333333333333333333322
    13339ccc9c9c9ccc9ccc9ccc9ccc93339ccc9c9c9ccc999333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339c999c9c9c9c9c9c9c999c9993339c9c9ccc9c999c9333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339c939ccc9c9c9c9c9ccc9cc933339c9c9ccc9cc9999333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339c999c9c9c9c9c9c999c9c9993339c9c9c9c9c999c9333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339ccc9c9c9ccc9ccc9ccc9ccc93339ccc9c9c9ccc999333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13339999999999999999999999999333999999999999933333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332
    11333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333322
    .133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333332.
    .113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333322.
    ..2223333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333222..
    ....222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222....
    `, SpriteKind.UI)
shopUI.z = 100
shopUI.setFlag(SpriteFlag.Invisible, true)
info.startCountdown(20)
let enemyDifficulty = 0
let coinFrequency = 0
let queuedMovementX = 0
let queuedMovementY = 0
tiles.setCurrentTilemap(tilemap`level1`)
mainPlayer = sprites.create(assets.image`GearAnimation1`, SpriteKind.Player)
tiles.placeOnTile(mainPlayer, tiles.getTileLocation(1, 3))
allEnemiesList = []
info.setLife(3)
forever(function () {
    if (!(inShop)) {
        mainPlayer.setImage(assets.image`GearAnimation1`)
        pause(100)
        mainPlayer.setImage(assets.image`GearAnimation2`)
        pause(100)
        mainPlayer.setImage(assets.image`GearAnimation3`)
    }
    for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
        if (sprites.readDataNumber(value, "spawntimer") <= 0) {
            sprites.destroy(value)
        }
        if (sprites.readDataNumber(value, "creationtimer") <= 0) {
            value.setFlag(SpriteFlag.Ghost, false)
        }
    }
    for (let value of sprites.allOfKind(SpriteKind.Food)) {
        if (sprites.readDataNumber(value, "despawntimer") <= 0) {
            sprites.destroy(value, effects.fire, 100)
        }
    }
})
game.onUpdateInterval(100, function () {
    for (let value of sprites.allOfKind(SpriteKind.Hitbox)) {
        sprites.changeDataNumberBy(value, "spawntimer", -1)
        sprites.changeDataNumberBy(value, "creationtimer", -1)
    }
    for (let value of sprites.allOfKind(SpriteKind.Food)) {
        sprites.changeDataNumberBy(value, "despawntimer", -1)
    }
})
game.onUpdateInterval(1000 - 10 * coinFrequency, function () {
    if (!(inShop)) {
        createCoin()
    }
})
game.onUpdateInterval(1000 - 10 * enemyDifficulty, function () {
    if (!(inShop)) {
        createEnemy()
    }
})
